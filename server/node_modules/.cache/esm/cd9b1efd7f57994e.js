let Teacher,Student,CustomErrorHandler;_7f5‍.x([["default",()=>_7f5‍.o]]);_7f5‍.w("../models",[["Teacher",["Teacher"],function(v){Teacher=v}],["Student",["Student"],function(v){Student=v}]]);_7f5‍.w("../services/CustomErrorHandler",[["default",["CustomErrorHandler"],function(v){CustomErrorHandler=v}]]);


const role = async (req,res,next) =>{
    try{
        const user1 =await Teacher.findOne({_id:req.user._id});
        const user2 =await Student.findOne({_id:req.user._id});

        if(user1.role === 'teacher' || user2.role ==='teacher'){
            next();
        }else{
            return next(CustomErrorHandler.unAuthorized());
        }
    }catch(err){
        return next(CustomErrorHandler.serverError());
    }
}

_7f5‍.d(role);